<!DOCTYPE html>
<html>
    <head>
        <title>Example</title>
        <!-- Initialize a global WBK function -->
        <script src="https://cdn.rawgit.com/maxlath/wikidata-sdk/dist/dist/wikibase-sdk.min.js"></script>
        <!-- Initialize a global wdk object using the WBK object -->
        <script src="https://cdn.rawgit.com/maxlath/wikidata-sdk/dist/dist/wikidata-sdk.min.js"></script>
        <script>
            const wbk = new WBK({
                instance: 'http://bio2rdf.org',
                sparqlEndpoint: 'http://bio2rdf.org/sparql'
                //instance: 'http://sparql.wikipathways.org/',
                //sparqlEndpoint: 'http://sparql.wikipathways.org/sparql'
            });
        </script>
    </head>
    
    <body>
        <pre id="output"></pre>
        <script>
        
            query = "PREFIX kegg_vocabulary: <http://bio2rdf.org/kegg_vocabulary:> SELECT ?pathway ?drug WHERE { <http://bio2rdf.org/kegg:C07163> kegg_vocabulary:pathway ?pathway. ?drug kegg_vocabulary:pathway ?pathway }";
            
            //query = "SELECT ?pathway WHERE { ?pathway a wp:Pathway }";
            
            fetch(wbk.sparqlQuery(query)
                 ).then(response => response.json()
                       ).then(wdk.simplify.sparqlResults
                             ).then(function(response){
                document.getElementById('output').innerHTML = JSON.stringify(response, undefined,2);
            })
        </script>
        </body>
</html>
